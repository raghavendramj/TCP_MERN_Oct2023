<html>
  <head>
    <title>Ajax Introduction</title>
    <script>
      function fetchPosts() {
        let backEndURL = "https://jsonplaceholder.typicode.com/posts";

        let xmlHttp = new XMLHttpRequest(); //Creates a new XMLHttpRequest object
        xmlHttp.open("GET", backEndURL, true); //Fake backend
        // HTTP method: the request type GET or POST
        // url: the file location
        // async: true (asynchronous) or false (synchronous)
        xmlHttp.send(); //	Sends the request to the server, Used for GET requests

        //Defines a function to be called when the readyState property changes
        xmlHttp.onreadystatechange = () => {
          //HTTP Status -> 2XX, 3XX, 4XX, 5XX, 1XX -> Returns the status-number of a request
          // 200: "OK" ---> SUCCESS CASE
          // 403: "Forbidden"
          // 404: "Not Found"
          // For a complete list go to the Http Messages Reference

          //Ready State -> Holds the status of the XMLHttpRequest.
          // 0: request not initialized
          // 1: server connection established
          // 2: request received
          // 3: processing request
          // 4: request finished and response is ready ---> RESPONSE READY

          if (xmlHttp.readyState === 4 && xmlHttp.status === 200) {
            console.log("Response :- ", JSON.parse(xmlHttp.response));
          }
        };
      }
    </script>
  </head>
  <body>
    <h1>Ajax Intro</h1>
    <p>Fetches data from Backend</p>
    <button onclick="fetchPosts()">Fetch Back-End Data</button>
  </body>
</html>
